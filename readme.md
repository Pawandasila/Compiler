# Custom Language Compiler

A lightweight compiler and interpreter for a simple custom language with arithmetic operations, variable declarations, and expressions. This project includes a complete compilation pipeline: lexical analysis, parsing, bytecode generation, and virtual machine execution.

[![Custom Language Compiler](https://img.shields.io/badge/Custom%20Language-Compiler-blue)]()
[![Rust](https://img.shields.io/badge/Built%20with-Rust-orange)]()
[![WebUI](https://img.shields.io/badge/Web-UI-green)]()

## Table of Contents

- [Introduction](#introduction)
- [Features](#features)
- [Getting Started](#getting-started)
  - [Prerequisites](#prerequisites)
  - [Installation](#installation)
  - [Running the Compiler](#running-the-compiler)
- [Language Syntax](#language-syntax)
- [Architecture](#architecture)
- [Examples](#examples)
- [Troubleshooting](#troubleshooting)
- [Future Work](#future-work)
- [License](#license)

## Introduction

This custom language compiler project implements a complete compilation pipeline for a simple programming language. It includes lexical analysis (tokenization), parsing (syntax analysis), bytecode generation, and virtual machine execution. The compiler is built in Rust and provides a web interface for ease of use.

## Features

- **Complete Compiler Pipeline**: Lexer, Parser, Bytecode Generator, and Virtual Machine
- **Web Interface**: User-friendly interface for writing and testing code
- **Real-time Compilation**: Immediate feedback on code execution
- **Bytecode Visualization**: See the generated bytecode for educational purposes
- **Error Reporting**: Clear error messages for debugging
- **Keyboard Shortcuts**: Ctrl+Enter/Cmd+Enter to compile and run

## Getting Started

### Prerequisites

- Rust (1.50.0 or later)
- Cargo (Rust's package manager)
- A modern web browser

### Installation

1. Clone the repository or download the source code
2. Navigate to the project directory

```bash
cd compiler
```

3. Build the project with Cargo

```bash
cargo build
```

### Running the Compiler

1. Start the server:

```bash
cargo run
```

2. Open your browser and navigate to:

```
http://127.0.0.1:8080
```

3. Write your code in the editor and click "Compile & Run" or press Ctrl+Enter (Cmd+Enter on Mac)

## Language Syntax

### Data Types

- `int`: Integer values
- `float`: Floating-point values

### Variable Declaration and Assignment

```
int x = 5;
float y = 3.14;
```

### Arithmetic Operations

- Addition: `+`
- Subtraction: `-`
- Multiplication: `*`
- Division: `/`

### Expressions

```
int result = (x + y) * z;
```

### Output

The value of the last expression in your code will be displayed as the result:

```
int x = 10;
int y = 20;
x + y;  // Output: 30
```

### Comments

```
// This is a single-line comment
```

### Statements

All statements must end with a semicolon:

```
int x = 5;
x = x + 10;
```

## Architecture

The compiler is structured into several components:

1. **Lexer** (`lexer.rs`): Converts source code into a sequence of tokens
2. **Parser** (`parser.rs`): Transforms tokens into an Abstract Syntax Tree (AST)
3. **Bytecode Generator** (`bytecode.rs`): Converts the AST into bytecode instructions
4. **Virtual Machine** (`vm.rs`): Executes the bytecode and produces output

The web interface is built with HTML, CSS, and JavaScript, communicating with the Rust backend via a REST API.

## Examples

### Basic Arithmetic

```
int a = 5;
int b = 10;
a + b;  // Output: 15
```

### Variable Assignment

```
int x = 5;
int y = x * 2;
y;  // Output: 10
```

### Multiple Calculations

```
int a = 5;
int b = 3;
int c = 2;
int result1 = a * b + c;  // 17
int result2 = a * (b + c);  // 25
result2;  // Output: 25
```

### Integer Division

```
int x = 10;
int y = 3;
x / y;  // Output: 3 (integer division truncates the result)
```

## Troubleshooting

### Common Errors

1. **"Expected ';' after expression"**:
   - Check that all your statements end with semicolons

2. **"Undefined variable"**:
   - Ensure all variables are declared before use

3. **"Type error"**:
   - The compiler doesn't support automatic type conversion; ensure types match

4. **"Expected expression"**:
   - Check for syntax errors in expressions

### Unsupported Features

The compiler doesn't support:
- C++ syntax like `#include`, `using namespace`, `main()`, etc.
- Standard library functions from other languages
- Class definitions or object-oriented features
- External imports or libraries

## Future Work

Potential enhancements for the compiler:

- Support for Boolean values and logical operations
- Implementation of control structures (`if`, `while`, etc.)
- Function definitions and calls
- Local variable scoping
- More data types
- Standard library functions

## License

This project is licensed under the MIT License - see the LICENSE file for details.
